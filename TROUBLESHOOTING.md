# 🔧 ToknXR Troubleshooting Guide\n\n## 🚨 Common Issues & Quick Fixes\n\n### 1. \"No interactions logged yet\"\n\n**What it means:** ToknXR isn't seeing your AI requests.\n\n**Quick fixes:**\n```bash\n# Check if proxy is running\ntoknxr start\n\n# Verify your setup\ntoknxr doctor\n\n# Check if endpoint is correct\n# Should be: http://localhost:8788/provider/...\n# Not: https://api.provider.com/...\n```\n\n**Common causes:**\n- ❌ Proxy server not running\n- ❌ Wrong endpoint URL in your AI tool\n- ❌ API keys missing or incorrect\n- ❌ Firewall blocking localhost:8788\n\n---\n\n### 2. \"Connection refused\" or \"Cannot connect\"\n\n**What it means:** Can't reach AI services through the proxy.\n\n**Quick fixes:**\n```bash\n# Check internet connection\nping google.com\n\n# Verify API keys\ncat .env\n\n# Test direct connection\ncurl -H \"x-goog-api-key: $GEMINI_API_KEY\" \\\n  \"https://generativelanguage.googleapis.com/v1beta/models\"\n\n# Restart proxy\ntoknxr start\n```\n\n**Common causes:**\n- ❌ No internet connection\n- ❌ Invalid API keys\n- ❌ API quota exceeded\n- ❌ Provider service down\n\n---\n\n### 3. \"Command not found: toknxr\"\n\n**What it means:** ToknXR isn't installed or not in PATH.\n\n**Quick fixes:**\n```bash\n# For global installation\nnpm install -g @goldensheepai/toknxr-cli\n\n# For local installation, use:\nnpm run cli -- stats\n# Instead of:\ntoknxr stats\n\n# Check Node.js is installed\nnode --version\nnpm --version\n```\n\n**Common causes:**\n- ❌ ToknXR not installed\n- ❌ Node.js not installed\n- ❌ npm global path not configured\n\n---\n\n### 4. \"Port 8788 already in use\"\n\n**What it means:** Another process is using the proxy port.\n\n**Quick fixes:**\n```bash\n# Find what's using the port\nlsof -i :8788\n\n# Kill the process (replace PID with actual number)\nkill -9 PID\n\n# Or use a different port\nPORT=8789 toknxr start\n```\n\n**Common causes:**\n- ❌ Another ToknXR instance running\n- ❌ Different app using port 8788\n- ❌ Previous ToknXR didn't shut down cleanly\n\n---\n\n### 5. \"Low quality scores\" or \"High waste rate\"\n\n**What it means:** Your AI outputs aren't great quality.\n\n**Quick fixes:**\n```bash\n# Check which prompts are failing\ntoknxr code-analysis\n\n# See provider comparison\ntoknxr providers\n\n# Browse specific interactions\ntoknxr browse\n```\n\n**Improvement strategies:**\n- ✅ Be more specific in prompts\n- ✅ Add more context and examples\n- ✅ Try different AI providers\n- ✅ Break complex requests into parts\n- ✅ Use higher-quality models for important tasks\n\n---\n\n### 6. \"High hallucination rate\"\n\n**What it means:** AI is making up facts or giving incorrect information.\n\n**Quick fixes:**\n```bash\n# Check which provider hallucinates most\ntoknxr hallucinations\n\n# Compare providers\ntoknxr providers\n\n# Review specific examples\ntoknxr browse\n```\n\n**Mitigation strategies:**\n- ✅ Always verify AI-generated facts\n- ✅ Use multiple providers for important work\n- ✅ Switch to more reliable providers\n- ✅ Add fact-checking to your workflow\n\n---\n\n### 7. \"Stats show no data\" or \"Empty dashboard\"\n\n**What it means:** No AI interactions have been tracked yet.\n\n**Quick fixes:**\n```bash\n# Make sure proxy is running\ntoknxr start\n\n# Test with a simple request\ncurl -X POST http://localhost:8788/gemini/v1beta/models/gemini-pro:generateContent \\\n  -H \"Content-Type: application/json\" \\\n  -H \"x-goog-api-key: $GEMINI_API_KEY\" \\\n  -d '{\"contents\":[{\"parts\":[{\"text\":\"Hello\"}]}]}'\n\n# Check if data was logged\ntoknxr tail\n```\n\n**Common causes:**\n- ❌ No AI requests made through proxy\n- ❌ Requests going directly to AI providers\n- ❌ Proxy configuration issues\n\n---\n\n### 8. \"Permission denied\" or \"EACCES\"\n\n**What it means:** File permission issues.\n\n**Quick fixes:**\n```bash\n# Fix npm permissions (macOS/Linux)\nsudo chown -R $(whoami) ~/.npm\n\n# Or use npx instead of global install\nnpx @goldensheepai/toknxr-cli stats\n\n# Check file permissions\nls -la .env\nls -la toknxr.config.json\n```\n\n**Common causes:**\n- ❌ npm installed with sudo\n- ❌ Config files not writable\n- ❌ Directory permission issues\n\n---\n\n## 🔍 Diagnostic Commands\n\n### Full System Check\n```bash\n# Comprehensive diagnostics\ntoknxr doctor\n```\n\n### Check Configuration\n```bash\n# View current config\ncat toknxr.config.json\n\n# View environment variables\ncat .env\n\n# Check if files exist\nls -la toknxr.config.json .env interactions.log\n```\n\n### Test Connectivity\n```bash\n# Test proxy health\ncurl http://localhost:8788/health\n\n# Test AI provider directly\ncurl -H \"x-goog-api-key: $GEMINI_API_KEY\" \\\n  \"https://generativelanguage.googleapis.com/v1beta/models\"\n```\n\n### Monitor Real-time\n```bash\n# Watch requests in real-time\ntoknxr tail\n\n# Check proxy logs\n# (Logs appear in terminal where you ran 'toknxr start')\n```\n\n---\n\n## 🆘 Getting Help\n\n### Self-Help Resources\n1. **Full Guide:** `TOKNXR_FOR_DUMMIES.md`\n2. **Quick Reference:** `QUICK_REFERENCE.md`\n3. **Command Help:** `toknxr --help`\n4. **Specific Command Help:** `toknxr stats --help`\n\n### Diagnostic Information\nWhen asking for help, include:\n```bash\n# System info\nnode --version\nnpm --version\ntoknxr --version\n\n# Configuration\ncat toknxr.config.json\n\n# Recent logs\ntoknxr tail\n\n# Diagnostic output\ntoknxr doctor\n```\n\n### Common Environment Issues\n\n**Windows:**\n- Use PowerShell or Command Prompt\n- Environment variables: `set GEMINI_API_KEY=your_key`\n- Path separators: Use forward slashes in URLs\n\n**macOS:**\n- May need to allow localhost connections in firewall\n- Use Terminal or iTerm2\n- Environment variables: `export GEMINI_API_KEY=your_key`\n\n**Linux:**\n- Check if port 8788 is blocked by firewall\n- May need to install Node.js via package manager\n- Environment variables: `export GEMINI_API_KEY=your_key`\n\n---\n\n## 🔄 Reset Everything\n\nIf all else fails, start fresh:\n\n```bash\n# Stop any running processes\npkill -f toknxr\n\n# Remove old installation\nnpm uninstall -g @goldensheepai/toknxr-cli\n\n# Clear npm cache\nnpm cache clean --force\n\n# Reinstall\nnpm install -g @goldensheepai/toknxr-cli\n\n# Reinitialize\ntoknxr init\n\n# Add API keys again\necho \"GEMINI_API_KEY=your_key_here\" >> .env\n\n# Test\ntoknxr doctor\n```\n\n---\n\n**💡 Pro Tip:** Most issues are solved by running `toknxr doctor` - it checks everything and gives specific fix suggestions!\n\n**🐑 Still stuck?** Check the full guide in `TOKNXR_FOR_DUMMIES.md` or create an issue on GitHub.\n